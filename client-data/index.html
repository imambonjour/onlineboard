<!DOCTYPE html>
<html lang="{{language}}">
  <head>
    <meta charset="utf-8" />
    <title>WBO â€” {{translations.collaborative_whiteboard}}</title>
    <link rel="stylesheet" href="index.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" sizes="16x16" href="favicon.ico" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <main class="main-container">
      <!-- Create Private Board -->
      <a href="random" class="glass-action">
        {{{translations.create_private_board}}}
      </a>

      <!-- Named Private Board (Center) -->
      <div class="expandable-container">
        <div id="join-btn" class="glass-action" onclick="toggleJoin()">
          {{{translations.named_private_board_description}}}
        </div>
        <form
          id="named-board-form"
          class="glass-action collapsed"
          action="boards"
          method="GET"
        >
          <input
            type="text"
            id="board"
            name="board"
            required
            placeholder="{{{translations.board_name_placeholder}}}"
            autocomplete="off"
          />
          <input type="submit" value="Go" />
        </form>
      </div>

      <!-- Public Board -->
      <a href="boards/anonymous" class="glass-action">
        {{{translations.open_public_board}}}
      </a>
    </main>

    <script>
      function toggleJoin() {
        const btn = document.getElementById("join-btn");
        const form = document.getElementById("named-board-form");
        const input = document.getElementById("board");

        btn.classList.add("hidden");
        form.classList.remove("collapsed");
        input.focus();

        // Collapse back if clicked outside
        document.addEventListener("mousedown", function (e) {
          if (!form.contains(e.target) && !btn.contains(e.target)) {
            form.classList.add("collapsed");
            btn.classList.remove("hidden");
          }
        }, { once: true });
      }
    </script>
    <script src="../js/index.js" async defer></script>
  </body>
</html>
